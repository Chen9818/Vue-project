(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2703388a"],{"18bb":function(t,e,c){t.exports=c.p+"img/好眠乳膠枕.bf426a61.png"},"395d":function(t,e,c){"use strict";c.r(e);c("99af");var a=c("7a23"),n=c("18bb"),o=c.n(n),l={class:"products w-100",style:{background:"#ccc"}},i={class:"d-md-block d-none w-100",style:{"margin-bottom":"0px","padding-top":"200px"}},s={style:{width:"80%"},class:"mx-auto mb-5 d-flex justify-content-between"},d=Object(a["h"])("h1",null,"カート",-1),b=["disabled"],r={key:0,class:"fas fa-spinner fa-pulse"},u=Object(a["j"])("すべての商品の選択解除 "),h={key:0,class:"table align-middle mx-auto",style:{width:"80%"}},j=Object(a["h"])("thead",null,[Object(a["h"])("tr",null,[Object(a["h"])("th",null,"写真"),Object(a["h"])("th",null,"商品"),Object(a["h"])("th",null,"数量"),Object(a["h"])("th",null,"税込"),Object(a["h"])("th",null,"キャンセル")])],-1),O={style:{width:"200px"}},g=["onUpdate:modelValue","onChange","disabled"],p=["value"],m=["onClick","disabled"],f={key:1,class:"noneCart mx-auto text-center border-top border-dark",style:{width:"80%"}},y=Object(a["h"])("h1",{class:"my-3"},"カートは空です。",-1),v=Object(a["h"])("img",{src:o.a,alt:"好眠乳膠枕"},null,-1),x={class:"w-100"},k={style:{width:"80%"},class:"mx-auto d-flex justify-content-end"},w={key:0},C={class:"w-100"},I={style:{width:"80%"},class:"mx-auto d-flex justify-content-end"},S={class:"d-md-none w-100 m-0",style:{padding:"200px 0 0 0"}},A={style:{width:"80%","border-bottom":"1px solid #000"},class:"mx-auto d-flex justify-content-between mb-5"},N=Object(a["h"])("h1",null,"カート",-1),$=["disabled"],q={key:0,class:"fas fa-spinner fa-pulse"},V=Object(a["j"])("全部キャンセル "),z={key:0,class:"mx-auto"},M={class:"card",style:{width:"100%"}},U={class:"card-body d-flex"},L={style:{width:"50%"}},P={style:{width:"50%"}},K={class:"text-center mb-3"},F=["onUpdate:modelValue","onChange","disabled"],J=["value"],Z={class:"text-center"},_=Object(a["h"])("span",null,"金額:",-1),B=["onClick","disabled"],D={key:1,class:"noneCart mx-auto text-center",style:{width:"80%"}},E=Object(a["h"])("h1",null,"カートは空です。",-1),G=Object(a["h"])("img",{src:o.a,alt:"好眠乳膠枕"},null,-1),H={class:"w-100"},Q={style:{width:"80%"},class:"mx-auto d-flex justify-content-end"},R={key:0},T={class:"w-100"},W={style:{width:"80%"},class:"mx-auto d-flex justify-content-end"};function X(t,e,c,n,o,X){var Y=Object(a["K"])("Loading"),tt=Object(a["K"])("NavbarView"),et=Object(a["K"])("FooterView");return Object(a["A"])(),Object(a["g"])(a["a"],null,[Object(a["h"])("div",l,[Object(a["k"])(Y,{active:o.isLoading},null,8,["active"]),Object(a["k"])(tt),Object(a["h"])("div",i,[Object(a["h"])("div",s,[d,Object(a["h"])("button",{type:"button",class:"btn btn-outline-secondary mb-3",onClick:e[0]||(e[0]=function(t){return X.deleteAllCarts("open")}),disabled:0===o.cart.carts.length||"open"===o.loadingStatus.loadingItem},["open"===o.loadingStatus.loadingItem?(Object(a["A"])(),Object(a["g"])("i",r)):Object(a["f"])("",!0),u],8,b)]),o.cart.carts.length>0?(Object(a["A"])(),Object(a["g"])("table",h,[j,Object(a["h"])("tbody",null,[(Object(a["A"])(!0),Object(a["g"])(a["a"],null,Object(a["I"])(o.cart.carts,(function(t){return Object(a["A"])(),Object(a["g"])("tr",{key:t.id},[Object(a["h"])("td",O,[Object(a["h"])("div",{style:Object(a["u"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.product.imageUrl,")")}])},null,4)]),Object(a["h"])("td",null,Object(a["N"])(t.product.title),1),Object(a["h"])("td",null,[Object(a["Z"])(Object(a["h"])("select",{name:"productNum",class:"form-select",style:{width:"100%"},"onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return X.updateCart(t)},disabled:o.loadingStatus.loadingItem===t.id},[(Object(a["A"])(),Object(a["g"])(a["a"],null,Object(a["I"])(8,(function(e){return Object(a["h"])("option",{value:e,key:"".concat(e).concat(t.id)},Object(a["N"])(e),9,p)})),64))],40,g),[[a["S"],t.qty]])]),Object(a["h"])("td",null,Object(a["N"])(t.product.price*t.qty),1),Object(a["h"])("td",null,[Object(a["h"])("i",{class:"bi bi-trash3 w-100 fs-3",type:"button",onClick:function(e){return X.removeCartItem(t)},disabled:o.loadingStatus.loadingItem===t.id},null,8,m)])])})),128))])])):(Object(a["A"])(),Object(a["g"])("div",f,[y,v,Object(a["h"])("button",{type:"button",class:"btn btn-base d-block mx-auto fs-3 m-5",style:{color:"#fff"},onClick:e[1]||(e[1]=function(){return X.redirect&&X.redirect.apply(X,arguments)})},"商品ページへ")])),Object(a["h"])("div",x,[Object(a["h"])("div",k,[o.cart.total>0?(Object(a["A"])(),Object(a["g"])("h2",w,"合計金額:"+Object(a["N"])(o.cart.total),1)):Object(a["f"])("",!0)])]),Object(a["h"])("div",C,[Object(a["h"])("div",I,[o.cart.total>0?(Object(a["A"])(),Object(a["g"])("button",{key:0,type:"button",class:"btn btn-base fs-4",style:{color:"#fff","margin-top":"3rem","margin-bottom":"3rem"},onClick:e[2]||(e[2]=function(){return X.nextPage&&X.nextPage.apply(X,arguments)})},"レジに進む")):Object(a["f"])("",!0)])])]),Object(a["h"])("ul",S,[Object(a["h"])("div",A,[N,Object(a["h"])("button",{type:"button",class:"btn btn-outline-secondary mb-3",onClick:e[3]||(e[3]=function(t){return X.deleteAllCarts("open")}),disabled:0===o.cart.carts.length||"open"===o.loadingStatus.loadingItem},["open"===o.loadingStatus.loadingItem?(Object(a["A"])(),Object(a["g"])("i",q)):Object(a["f"])("",!0),V],8,$)]),o.cart.carts.length>0?(Object(a["A"])(),Object(a["g"])("div",z,[(Object(a["A"])(!0),Object(a["g"])(a["a"],null,Object(a["I"])(o.cart.carts,(function(t){return Object(a["A"])(),Object(a["g"])("li",{key:t,class:"mx-auto mb-3",style:{width:"80%"}},[Object(a["h"])("div",M,[Object(a["h"])("div",U,[Object(a["h"])("div",L,[Object(a["h"])("div",{style:Object(a["u"])([{height:"100%","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.product.imageUrl,")")}])},null,4)]),Object(a["h"])("div",P,[Object(a["h"])("div",K,Object(a["N"])(t.product.title),1),Object(a["Z"])(Object(a["h"])("select",{name:"productNum",class:"form-select mx-auto mb-3",style:{width:"80%"},"onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return X.updateCart(t)},disabled:o.loadingStatus.loadingItem===t.id},[(Object(a["A"])(),Object(a["g"])(a["a"],null,Object(a["I"])(8,(function(e){return Object(a["h"])("option",{value:e,key:"".concat(e).concat(t.id)},Object(a["N"])(e),9,J)})),64))],40,F),[[a["S"],t.qty]]),Object(a["h"])("div",Z,[_,Object(a["j"])(" "+Object(a["N"])(t.product.price*t.qty)+" ",1),Object(a["h"])("i",{class:"bi bi-trash3 fs-5 px-5",type:"button",onClick:function(e){return X.removeCartItem(t)},disabled:o.loadingStatus.loadingItem===t.id},null,8,B)])])])])])})),128))])):(Object(a["A"])(),Object(a["g"])("div",D,[E,G,Object(a["h"])("button",{type:"button",class:"btn btn-base d-block mx-auto my-2",style:{color:"#fff"},onClick:e[4]||(e[4]=function(){return X.redirect&&X.redirect.apply(X,arguments)})},"商品ページへ")])),Object(a["h"])("div",H,[Object(a["h"])("div",Q,[o.cart.total>0?(Object(a["A"])(),Object(a["g"])("h2",R,"合計金額:"+Object(a["N"])(o.cart.total),1)):Object(a["f"])("",!0)])]),Object(a["h"])("div",T,[Object(a["h"])("div",W,[o.cart.total>0?(Object(a["A"])(),Object(a["g"])("button",{key:0,type:"button",class:"btn btn-base fs-5",style:{color:"#fff","margin-top":"3rem","margin-bottom":"10rem"},onClick:e[5]||(e[5]=function(){return X.nextPage&&X.nextPage.apply(X,arguments)})},"レジに進む")):Object(a["f"])("",!0)])])])]),Object(a["k"])(et)],64)}var Y=c("f796"),tt=c("1652"),et={name:"Carts",data:function(){return{loadingStatus:{loadingItem:""},isLoading:!1,cart:{carts:[]}}},components:{FooterView:Y["a"],NavbarView:tt["a"]},mounted:function(){this.getCart()},methods:{getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("wei-z","/cart");this.isLoading=!0,this.$http.get(e).then((function(e){t.cart=e.data.data,t.isLoading=!1})).catch((function(t){alert(t.response.data.message)}))},updateCart:function(t){var e=this;this.loadingStatus.loadingItem=t.id;var c="".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("wei-z","/cart/").concat(t.id),a={product_id:t.product_id,qty:t.qty};this.$http.put(c,{data:a}).then((function(t){e.$httpMessageState(t,"数量更新"),e.loadingStatus.loadingItem="",e.getCart()})).catch((function(t){e.$httpMessageState(t.response,"数量更新"),e.loadingStatus.loadingItem=""}))},removeCartItem:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("wei-z","/cart/").concat(t.id);this.loadingStatus.loadingItem=t.id,this.$http.delete(c).then((function(t){e.$httpMessageState(t,"取り消し"),e.loadingStatus.loadingItem="",e.getCart()})).catch((function(t){e.$httpMessageState(t.response,"取り消し")}))},deleteAllCarts:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("wei-z","/carts");this.loadingStatus.loadingItem=t,this.$http.delete(c).then((function(t){e.$httpMessageState(t,"全部取り消し"),e.loadingStatus.loadingItem="",e.getCart()})).catch((function(t){e.$httpMessageState(t.response,"全部取り消し")}))},redirect:function(){this.$router.push("/products")},nextPage:function(){this.$router.push("/order")}}},ct=c("6b0d"),at=c.n(ct);const nt=at()(et,[["render",X]]);e["default"]=nt}}]);
//# sourceMappingURL=chunk-2703388a.6e9710e3.js.map